<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta name=viewport content="user-scalable=no">
    <script type='text/javascript' src='js/checkform.js'  ></script>
    <title></title>
</head>
<style type="text/css">
    div {
        height: 100px;
        line-height: 100px;
        width: 100%;
        border-bottom: 1px solid #e9e9e9;
        color: #666666;
        background: #FFFFFF;
        font-family: Heiti SC;
        font-size: 48px;
    }
    .limitlength {
        table-layout: fixed;
        text-overflow: ellipsis;
        -o-text-overflow: ellipsis;
        overflow: hidden;
        white-space: nowrap;
    }
    /*img{
        margin-right: 50px;
        margin-top:30px;
    }

EFEEF4
        [name=itemDiv]{
            display: none;
        }
        */
</style>
<body style="margin: 0; padding: 0;background: #FFFFFF;">
<div id="items" style="overflow:auto;height: 100%;">

</div>




<div id="gly" onclick="shenqing_gly()" style="margin-top: 5px;">
    <span style="margin-left: 50px" name="itemName">申请成为工作圈管理员</span>
    <img src="images/pages/into_lan.png" align="right" style="margin-right: 50px;margin-top:30px;"/>
</div>


<div style="display: none;">
    <ylt.for dataId="1504079108633">
        <input name="xtb" type="text" value="$value,$value"/>
    </ylt.for>
</div>


<div style="display: none;">
    <ylt.for dataId="1503649876407">
        <input name="ejcd" type="text" value="$value,$value,$value,$value,$value"/>
    </ylt.for>
</div>


<script>
    function getQueryString(name) {
        var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)", "i");
        var r = window.location.search.substr(1).match(reg);
        if (r != null) return unescape(r[2]); return null;
    }
    function creatItem() {
        var winWidth = document.body.clientWidth;
        var divheight=(winWidth+0.00000000000001)*0.3;
        var fid = document.getElementById('items');
        /**
         * 生成div
         *
         * **/

        if(getQueryString('isJGG')!=null){
            fid.style.background="#EFEEF4";
            var newdiv = document.createElement('div');
            newdiv.setAttribute('name', 'itemDiv');
            /*newdiv.setAttribute('style', 'margin-top: 25px;margin-left: 25px;float: left;width: 30%;height:'+divheight+'px;line-height:'+(divheight-200)+'px;text-align: center;border:1px solid #029ae5;border-radius: 20px;');*/
            newdiv.setAttribute('style', 'margin-top: 25px;margin-left: 25px;float: left;width: 30%;height:'+divheight+'px;line-height:'+(divheight-200)+'px;text-align: center;border-radius: 20px;');
            newdiv.setAttribute('onclick', 'clickReply(this)');


            /**
             * 生成图片
             *
             * **/


            var newimg = document.createElement('img');
            newimg.setAttribute("name", "cdtb");
            newimg.setAttribute("src","res/images/acquiescenceImg.png");
            newimg.setAttribute("width", (divheight*0.8)+"px;");
            newimg.setAttribute("height", (divheight*0.7)+"px;");
            newimg.setAttribute('style', 'margin-top: 10px;border-radius: 20px;');
            newdiv.appendChild(newimg);


            /**
             * 生成图片
             *
             * **/


            var newimg2 = document.createElement('img');
            newimg2.setAttribute("src","res/images/dianA.png");
            newimg2.setAttribute("align", "right");
            newimg2.setAttribute("name", "dian");
            newimg2.setAttribute("style", "display: none;width: 30px;height: 30px;position: relative;z-index: 999;right: 0;top: 0;float: right;");
            newdiv.appendChild(newimg2);


            /**
             * span
             */
            var newSpan = document.createElement('span');
            newSpan.setAttribute("name", "itemName");
            newSpan.setAttribute("style", "display: block;");
            newSpan.setAttribute("class","limitlength");
            newdiv.appendChild(newSpan);

            fid.appendChild(newdiv);

        }else{
            var newdiv = document.createElement('div');
            newdiv.setAttribute('name', 'itemDiv');
            newdiv.setAttribute('style', 'margin-top: 5px;');
            newdiv.setAttribute('onclick', 'clickReply(this)');


            /**
             * 生成图片
             *
             * **/


            var newimg = document.createElement('img');
            newimg.setAttribute("name", "cdtb");
            newimg.setAttribute("src","res/images/acquiescenceImg.png");
            newimg.setAttribute("width", "70px;");
            newimg.setAttribute("height", "70px;");
            newimg.setAttribute("style", "margin-left: 50px;margin-right: 50px;margin-top:30px;float: left;");
            newdiv.appendChild(newimg);

            /**
             * span
             */

            var newSpan = document.createElement('span');
            newSpan.setAttribute("name", "itemName");
            newSpan.setAttribute("style", "float: left;display: block;");
            newdiv.appendChild(newSpan);

            /**
             * 生成图片
             *
             * **/


            var newimg1 = document.createElement('img');
            newimg1.setAttribute("src","images/pages/into_lan.png");
            newimg1.setAttribute("align", "right");
            newimg1.setAttribute("style", "margin-right: 50px;margin-top:30px;");
            newdiv.appendChild(newimg1);
            /**
             * 生成图片
             *
             * **/


            var newimg2 = document.createElement('img');
            newimg2.setAttribute("src","res/images/dianA.png");
            newimg2.setAttribute("align", "right");
            newimg2.setAttribute("name", "dian");
            newimg2.setAttribute("style", "display: none;width: 30px;height: 30px;margin-top:40px;margin-right:50px;");
            newdiv.appendChild(newimg2);

            fid.appendChild(newdiv);
        }
    }
    for(var i=0;i<26;i++){
        creatItem();
    }
</script>

<script>
    /*
     * 图标
     * */
    var tbData = document.getElementsByName('xtb');
    var cdtbArray = document.getElementsByName('cdtb');

    var tbDataArray = new Array();
    for (var i = 0; i < tbData.length; i++) {
        tbDataArray[i] = tbData[i].value.split(',');
    }
</script>

<script>
    /*
     * 二级菜单名称
     * */
    var ejcdData = document.getElementsByName('ejcd');
    var ejcdDataArray = new Array();
    for (var i = 0; i < ejcdData.length; i++) {
        ejcdDataArray[i] = ejcdData[i].value.split(',');
    }
    var gerengonxian=ejcdDataArray[0];
    var gerengonxian_one=ejcdDataArray[1];
    var woyaohuida=ejcdDataArray[2];
    var woyaohuida_one=ejcdDataArray[3];


    var userAgent = navigator.userAgent;
    if (userAgent.indexOf("iPhone") >= 0) {
        window.webkit.messageHandlers.ejcd.postMessage(ejcdDataArray);
    }else{
        window.callByJs.getSubMenuName(gerengonxian,gerengonxian_one,woyaohuida,woyaohuida_one);
    }


</script>






<script>

    <ylt.for  dataId="1492764159618">
    var items = new Array();
    items[0] = "$value";
    items[1] = "$value";
    items[2] = "$value";
    items[3] = "$value";
    items[4] = "$value";
    items[5] = "$value";
    items[6] = "$value";
    items[7] = "$value";
    items[8] = "$value";
    items[9] = "$value";
    items[10] = "$value";
    items[11] = "$value";
    items[12] = "$value";
    items[13] = "$value";
    items[14] = "$value";
    items[15] = "$value";
    items[16] = "$value";
    items[17] = "$value";
    items[18] = "$value";
    items[19] = "$value";
    items[20] = "$value";
    items[21] = "$value";
    items[22] = "$value";
    items[23] = "$value";
    items[24] = "$value";
    items[25] = "$value";

    var urls = new Array();
    urls[0] = "$value";
    urls[1] = "$value";
    urls[2] = "$value";
    urls[3] = "$value";
    urls[4] = "$value";
    urls[5] = "$value";
    urls[6] = "$value";

    var xianshi = "$value";
    var shunxu = "$value";

    </ylt.for>

    var xianshiArray = xianshi.split("_");
    var shunxuArray = shunxu.split("_");


    var itemsDiv = document.getElementsByName("itemDiv");
    var itemsName = document.getElementsByName("itemName");

    for(var i=0;i<items.length;i++){
        itemsName[parseInt(shunxuArray[i])].innerHTML = items[i];


        if(xianshiArray[i] == "B"){
            itemsDiv[parseInt(shunxuArray[i])].style.display = "none";
        }






    }
    for(var i=0;i<tbDataArray.length;i++){
        var xh = parseInt(tbDataArray[i][0]);
        var tbSrc = tbDataArray[i][1];
        cdtbArray[parseInt(shunxuArray[xh])].src='upload/'+tbSrc;
    }



</script>

<script>
    /*
     * 圈子的集团代码
     * */
    function blocCode(){
    <ylt.for dataId="1501209189389">
        var code = '$value';
    </ylt.for>
        code = code.substr(0,6);
        var data = {"code":code};
        var userAgent = navigator.userAgent;
        if (userAgent.indexOf("iPhone") >= 0) {
            window.webkit.messageHandlers.blocCode.postMessage(data);
        }else{
            window.callByJs.getGroupCode(code);
        }
    }
    blocCode();

</script>

<script>
    /***内部资源排序
     *
     *
     */
    <ylt.for dataId="1499223736665">
    var resources = new Array();
    var isOpenCategory = new Array();
    resources[0] = "$value";
    resources[1] = "$value";
    resources[2] = "$value";
    resources[3] = "$value";
    var resourcesShunXu = "$value".split("_");
    isOpenCategory[0] = "$value";
    isOpenCategory[1] = "$value";
    isOpenCategory[2] = "$value";
    isOpenCategory[3] = "$value";
    </ylt.for>

    <ylt.for dataId="1499258859463">
    var resourcesCount =new Array();
    resourcesCount[0]="$value";
    resourcesCount[1]="$value";
    resourcesCount[2]="$value";
    resourcesCount[3]="$value";
    </ylt.for>








    <ylt.for dataId="1501569638831">
    var resources_one = new Array();
    var isOpenCategory_one = new Array();
    resources_one[0] = "$value";
    resources_one[1] = "$value";
    resources_one[2] = "$value";
    resources_one[3] = "$value";
    var resourcesShunXu_one = "$value".split("_");
    isOpenCategory_one[0] = "$value";
    isOpenCategory_one[1] = "$value";
    isOpenCategory_one[2] = "$value";
    isOpenCategory_one[3] = "$value";
    </ylt.for>

    <ylt.for dataId="1501569890801">
    var resourcesCount_one =new Array();
    resourcesCount_one[0]="$value";
    resourcesCount_one[1]="$value";
    resourcesCount_one[2]="$value";
    resourcesCount_one[3]="$value";
    </ylt.for>






    var reply = {"resources":resources,"resourcesShunXu":resourcesShunXu,"resourcesCount":resourcesCount,"urls":urls,"isOpenCategory":isOpenCategory};
    var reply_one={"resources":resources_one,"resourcesShunXu":resourcesShunXu_one,"resourcesCount":resourcesCount_one,"isOpenCategory_one":isOpenCategory_one};
    var userAgent = navigator.userAgent;
    if (userAgent.indexOf("iPhone") >= 0) {
        window.webkit.messageHandlers.resources.postMessage(reply);
        window.webkit.messageHandlers.resourcesOne.postMessage(reply_one);
    }else{
        window.callByJs.getArray(resources,resourcesShunXu,resourcesCount,urls,isOpenCategory);
        window.callByJs.getArray_one(resources_one,resourcesShunXu_one,resourcesCount_one,isOpenCategory_one);
    }
</script>



</body>
<script type="text/javascript">

    function clickReply(self) {
        var serialNumber;
        var listName;
        var index;
        var itemsDiv = document.getElementsByName('itemDiv');
        for(var i=0;i<itemsDiv.length;i++){
            if(itemsDiv[i] == self){
                index = i;
            }
        }
        for(var i=0;i<shunxuArray.length;i++){
            if(shunxuArray[i]==index)serialNumber=i;
        }

        listName = items[serialNumber];

        var reply = {"serialNumber":serialNumber,"listName":listName};
        var userAgent = navigator.userAgent;
        if (userAgent.indexOf("iPhone") >= 0) {
            window.webkit.messageHandlers.clickReply.postMessage(reply);
        }else{
            window.callByJs.setValue(serialNumber,listName);
        }
    }
    var admins=getQueryString("admin");
    if(admins!="null"){
        gly.style.display="none";
    }else{
        var items =  document.getElementById('items');
        items.style.display='none';
    }

    function shenqing_gly() {
        var reply = {"serialNumber":999,"listName":"申请成为工作圈管理员"};
        var userAgent = navigator.userAgent;
        if (userAgent.indexOf("iPhone") >= 0) {
            window.webkit.messageHandlers.clickReply.postMessage(reply);
        }else{
            window.callByJs.setValue("999","申请成为工作圈管理员");
        }
    }
    function xianShiYuanDian(){
        var imgs=document.getElementsByName('dian');
        var gongSiBiXiuID=new Array();
        var gongSiBiXiuCongFU=new Array();
        var gongSiBiXiuCongType=new Array();
        var taskArry=new Array();
    <ylt.for dataId="1503383626200">
                gongSiBiXiuID.push('$value');
        gongSiBiXiuCongFU.push('$value');
        gongSiBiXiuCongType.push('$value');
    </ylt.for>
        <ylt.for dataId="1499762079185">
                taskArry.push('$value');
    </ylt.for>
        if(gongSiBiXiuCongFU.length!=0){
            if(array_contain(gongSiBiXiuCongFU,'zero')&&
                    (array_contain(gongSiBiXiuCongType,'mp3')
                    ||array_contain(gongSiBiXiuCongType,'png')
                    ||array_contain(gongSiBiXiuCongType,'avi')
                    ||array_contain(gongSiBiXiuCongType,'pdf'))){
                /*公司必修*/
                imgs[shunxuArray[0]].style.display="inline";
            }
            if(array_contain(gongSiBiXiuCongFU,'one')&&
                    (array_contain(gongSiBiXiuCongType,'mp3')
                    ||array_contain(gongSiBiXiuCongType,'png')
                    ||array_contain(gongSiBiXiuCongType,'avi')
                    ||array_contain(gongSiBiXiuCongType,'pdf'))){
                /*公司必修1*/
                imgs[shunxuArray[19]].style.display="inline";
            }
            if(isBeing(gongSiBiXiuCongFU,'zero',gongSiBiXiuCongType,'inform')){
                /*圈子通知*/
                imgs[shunxuArray[7]].style.display="inline";
            }
            if(isBeing(gongSiBiXiuCongFU,'zero',gongSiBiXiuCongType,'dynamic')){
                /*圈子动态*/
                imgs[shunxuArray[8]].style.display="inline";
            }
            if(isBeing(gongSiBiXiuCongFU,'one',gongSiBiXiuCongType,'inform')){
                /*圈子通知1*/
                imgs[shunxuArray[23]].style.display="inline";
            }
            if(isBeing(gongSiBiXiuCongFU,'one',gongSiBiXiuCongType,'dynamic')){
                /*圈子动态1*/
                imgs[shunxuArray[24]].style.display="inline";
            }

        }
        if(taskArry.length!=0){
            imgs[shunxuArray[9]].style.display="inline";
        }

    }
    xianShiYuanDian();
    /*查询单一个菜单的顺序*/
    function chaXunMouYiGeDeShunXu(serialNumber){
        for(var i=0;i<shunxuArray.length;i++){
            if(shunxuArray[i]==serialNumber){
                return i;
            }
        }
    }
    /*判断数组是否包含某个值*/
    function array_contain(array, obj){
        for (var i = 0; i < array.length; i++){
            if (array[i] == obj)/*如果要求数据类型也一致，这里可使用恒等号===*/
                return true;
        }
        return false;
    }
    /*判断是哪个动态、通知有新内容   obj---重复使用    obj2---类型*/
    function isBeing(gongSiBiXiuCongFU,obj,gongSiBiXiuCongType,obj2){
        var isBeings=false;
        for(var i=0;i<gongSiBiXiuCongFU.length;i++){
            if(gongSiBiXiuCongFU[i]==obj&&gongSiBiXiuCongType[i]==obj2){
                return isBeings=true;
            }
        }
    }
    /**取消关注**/
    function deleteAttention(ids){
        var strVResult=sys_doComMandReturn("020","S_QZBID="+ids);
        var strVResults=sys_doComMandReturn("043","S_QZBID="+ids);
        var strVResultss=sys_doComMandReturn("044","S_QZBID="+ids);
    }
</script>

</html>
