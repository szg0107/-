<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <script type='text/javascript' src='js/checkform.js'></script>
    <title>统计任务详细情况</title>
    <style type="text/css">
        .divStyle{
            float: left;
            height: 40px;
            line-height: 40px;
            color: #FFFFFF;
            font-size: 20px;
            background-color:#029ae5;
            margin-left: 10px;
        }
    </style>
</head>
<body>
<div>
    <div style="overflow:auto;margin-bottom: 10px;">
        <button class="divStyle" name="buttonName" style="width: 80px;height:30px;line-height:30px;background:#CFCFCF;font-size: 15px;color: #000000; " onclick="allStatus();buttonEffects(this);">全部</button>
        <button class="divStyle" name="buttonName" style="width: 80px;height:30px;line-height:30px;background:#CFCFCF;font-size: 15px; " onclick="completionStatus('已完成');buttonEffects(this);">已完成</button>
        <button class="divStyle" name="buttonName" style="width: 80px;height:30px;line-height:30px;background:#CFCFCF;font-size: 15px; " onclick="completionStatus('未完成');buttonEffects(this);">未完成</button>
    </div>
    <div style="overflow:auto;">
        <span class="divStyle" style="width: 10%;text-align: center;">人员</span>
        <span class="divStyle" style="width: 5%;text-align: center;">详情</span>
        <span class="divStyle" style="width: 10%;text-align: center;">状态</span>
    </div>
    <ylt.for dataId="1504248604746">
        <div name="content" style="overflow:auto;">
            <span class="divStyle" style="background: #FFFFFF;color: #000000;text-align: left;width: 10%;" id="$value" name="phoneNumber">$value</span>
            <div class="divStyle" style="background: #FFFFFF;color: #000000;width: 5%;text-align: center;vertical-align: middle;"><a name="url"><img  src="images/pages/jianyaoshuoming.png" width="25px" style="margin-top: 10px;"/></a></div>
            <span class="divStyle" style="background: #FFFFFF;color: #000000;width: 10%;text-align: center;" name="paymentType">未完成</span>
        </div>
    </ylt.for>

</div>
<script type="text/javascript">
    function getQueryString(name) {
        var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)", "i");
        var r =  window.location.search.substr(1).match(reg);
        if (r != null) return unescape(r[2]); return null;
    }
    var PhoneNumberOne=new Array();
    <ylt.for dataId="1504233990479">
            PhoneNumberOne.push('$value');
    </ylt.for>

    var phoneNumberArray=document.getElementsByName('phoneNumber');
    var paymentTypeArray=document.getElementsByName('paymentType');
    var contents=document.getElementsByName('content');
    var address=document.getElementsByName('url');
    /*初始数据*/
    function allJiLv(){
        for(var i=0;i<PhoneNumberOne.length;i++){
            for(var u=0;u<phoneNumberArray.length;u++){
                if(PhoneNumberOne[i]==phoneNumberArray[u].id){
                    paymentTypeArray[u].innerText="已完成";
                }
            }
        }
    }
    allJiLv();
    /*根据状态显示数据*/
    function completionStatus(status){
        for(var i=0;i<paymentTypeArray.length;i++){
            if(!(paymentTypeArray[i].innerText==status)){
                contents[i].style.display='none';
            }else{
                contents[i].style.display='block';
            }
        }
    }
    /*显示全部*/
    function allStatus(){
        for(var i=0;i<paymentTypeArray.length;i++){
            address[i].href="grtjrwxxqk.view?taskId="+getQueryString('id')+"&phoneNumber="+phoneNumberArray[i].id;
            contents[i].style.display='block';
        }
    }
    allStatus();
    /*button效果*/
    function buttonEffects(oneself){

        for(var i=0;i<document.getElementsByName("buttonName").length;i++){
            if(document.getElementsByName("buttonName")[i]==oneself){
                /*oneself.style.backgroundColor="#dff4ff";*/
                document.getElementsByName("buttonName")[i].style.color="#000000";
            }else{
                document.getElementsByName("buttonName")[i].style.color="#ffffff";
            }
        }

    }
</script>

</body>
</html>