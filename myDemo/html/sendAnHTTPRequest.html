<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>发送http post请求</title>
</head>
<body>
<button onclick="loadXMLDoc('http://www.extop.cn/res/java/GetRongCloudToken.jsp',
    function () {
           if (xmlHttp.readyState === 4 && xmlHttp.status === 200) {
                alert(xmlHttp.responseText);
                }
            })">测试</button>
</body>
<script type="text/javascript">
    let xmlHttp;

    function loadXMLDoc(url, cFunction) {
        if (window.XMLHttpRequest) {// IE7+, Firefox, Chrome, Opera, Safari 代码
            xmlHttp = new XMLHttpRequest();
        }
        else {// IE6, IE5 代码
            xmlHttp = new ActiveXObject("Microsoft.XMLHTTP");
        }
        xmlHttp.onreadystatechange = cFunction;
        xmlHttp.open("POST", url, true);
        xmlHttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");
        xmlHttp.send();
    }

    function test() {
        /*let xmlHttp;
        if (window.XMLHttpRequest) {
            // IE7+, Firefox, Chrome, Opera, Safari 浏览器执行代码
            xmlHttp = new XMLHttpRequest();
        }
        else {
            // IE6, IE5 浏览器执行代码
            xmlHttp = new ActiveXObject("Microsoft.XMLHTTP");
        }
        xmlHttp.onreadystatechange = function () {
            if (xmlHttp.readyState === 4 && xmlHttp.status === 200) {
                alert(xmlHttp.responseText);
            }
        };
        xmlHttp.open("POST","http://www.extop.cn/res/java/GetRongCloudToken.jsp",true);
        xmlHttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");
        xmlHttp.send();*/
        loadXMLDoc("http://www.extop.cn/res/java/GetRongCloudToken.jsp", function () {
            if (xmlHttp.readyState === 4 && xmlHttp.status === 200) {
                alert(xmlHttp.responseText);
            }
        });
    }
</script>
</html>